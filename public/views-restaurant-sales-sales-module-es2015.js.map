{"version":3,"sources":["./src/app/views/restaurant/sales/sales.component.ts","./src/app/views/restaurant/sales/sales-routing.module.ts","./src/app/views/restaurant/sales/sales.module.ts","./src/app/views/restaurant/sales/pipe.ts","./src/app/views/restaurant/sales/sales.component.html"],"names":[],"mappings":"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","file":"views-restaurant-sales-sales-module-es2015.js","sourcesContent":["import { Component, OnInit, ViewChild } from '@angular/core';\r\nimport { AngularFireDatabase } from '@angular/fire/database';\r\nimport { ModalDirective } from 'ngx-bootstrap/modal';\r\nimport { AngularFireAuth } from '@angular/fire/auth';\r\nimport { Router } from '@angular/router';\r\n\r\n@Component({\r\n  selector: 'app-sales',\r\n  templateUrl: './sales.component.html',\r\n})\r\nexport class SalesComponent implements OnInit {\r\n  @ViewChild('largeModal') public largeModal: ModalDirective;\r\n  table = [];\r\n  products = [];\r\n  openTable = [];\r\n  selectedProd = [];\r\n  stockDetail = [];\r\n  tableName;\r\n  faturaTarih;\r\n  receiptId;\r\n  totalPrice;\r\n  exist = false;\r\n  search;\r\n  key;\r\n  ngOnInit(){}\r\n  \r\n  constructor(private db:AngularFireDatabase,auth:AngularFireAuth,private router:Router){\r\n    auth.onAuthStateChanged((user)=>{\r\n      if(user){\r\n        if((user.email == \"cafe2@sks.com\" || user.email == \"admin@sks.com\") == false){\r\n          router.navigate([\"/stock\"]);\r\n        }\r\n      }\r\n    })\r\n    this.db.list(\"/products\").snapshotChanges().forEach(x=>{\r\n      this.products = x;\r\n    })\r\n    this.db.list(\"/restaurant1/table\").snapshotChanges().forEach(x=>{\r\n      this.table = x;\r\n    })\r\n    this.db.list(\"receipt\").valueChanges().subscribe(x=>{\r\n      this.db.database.ref(\"receipt\").once('value').then(snapshot=>{\r\n        if(snapshot.exists()){\r\n          this.receiptId = snapshot.val().id;\r\n        }\r\n        else{\r\n          this.db.list(\"/receipt\").set('id',0); \r\n        }\r\n      });\r\n    })\r\n  }\r\n  tableEdit(process){\r\n    if(process == 1){\r\n      this.db.list(\"/restaurant1/table\").push({name:this.table.length+1});\r\n    }\r\n    else{\r\n      this.db.list(\"/restaurant1/table/\"+this.table[this.table.length-1].payload.key).remove();\r\n    }\r\n  }\r\n  modalOpen(key){\r\n    this.table.forEach(x=>{\r\n      if(x.payload.key == key){\r\n        if(x.payload.val().product == undefined)\r\n          this.selectedProd = [];\r\n        else\r\n          this.selectedProd = x.payload.val().product;\r\n      }\r\n    })\r\n    this.largeModal.show();\r\n    this.key = key;\r\n  }\r\n  selectProduct(key){\r\n    var iter = 0;\r\n    this.selectedProd.forEach(i=>{\r\n      this.products.forEach(element => {\r\n        if(key == i.key && element.key == key){\r\n          if(element.payload.val().restaurant1Stock > this.selectedProd[iter].count){\r\n            this.selectedProd[iter].count += 1;\r\n            this.selectedProd[iter].totalPrice = this.selectedProd[iter].count * this.selectedProd[iter].data.kdvPrice;\r\n            this.totalPrice += this.selectedProd[iter].data.kdvPrice;\r\n          }\r\n          this.exist = true;\r\n        }\r\n      });\r\n      iter++;\r\n    })\r\n    if(this.exist==false){\r\n      this.products.forEach(element => {\r\n        if(key == element.key){\r\n          this.selectedProd.push({data:element.payload.val(), count:1, key:element.key, totalPrice: element.payload.val().kdvPrice,date:0});\r\n          this.totalPrice += element.payload.val().kdvPrice;\r\n        }\r\n      });\r\n    }\r\n    this.exist = false;\r\n  }\r\n  getSum(arr){\r\n    let sum = 0;\r\n    if(arr != undefined){\r\n      for(let i = 0; i < arr.length; i++) {\r\n        sum += arr[i].totalPrice;\r\n      }\r\n    }\r\n    return sum;\r\n  }\r\n  countDecrease(index){\r\n    this.selectedProd[index].count--;\r\n    this.totalPrice -= this.selectedProd[index].data.kdvPrice;\r\n    if(this.selectedProd[index].count<=0){\r\n      this.selectedProd.splice(index,1);\r\n    }\r\n    else{\r\n      this.selectedProd[index].totalPrice = this.selectedProd[index].count * this.selectedProd[index].data.kdvPrice;\r\n    }\r\n    if(this.selectedProd.length == 0)\r\n      this.totalPrice = 0;\r\n  }\r\n  addProduct(){\r\n    this.db.database.ref(\"/restaurant1/table/\"+this.key).update({product:this.selectedProd});\r\n    this.largeModal.hide();\r\n    this.key = null;\r\n    this.selectedProd = [];\r\n  }\r\n\r\n  sell(key){\r\n    this.table.forEach(x=>{\r\n      if(x.payload.key == key){\r\n        this.selectedProd = x.payload.val().product;\r\n        this.tableName = x.payload.val().name;\r\n      }\r\n    })\r\n    this.totalPrice = 0;\r\n    const date = new Date();\r\n    this.faturaTarih = date.toLocaleString('tr-TR');\r\n    this.receiptId++;\r\n    var newWin = window.open(\"\");\r\n    newWin.document.write(\"<!DOCTYPE html><html lang='en'> <head> <meta charset='utf-8'> <title>SKS Fatura</title> <style> body{ width: 80mm; position: relative; display: block; margin: 0px; font-size: 12px; font-weight: bold; text-transform: uppercase; } .container{ margin: 10px; } .title{ text-align: center; margin-top: 4px; } span{ width: 100px; display: inline-block; } hr.dashed { border-top: 1px dashed black; } th{ width: 80px; text-align: left; } .bodyFooter{ position: relative; } .totalText{ width: 81%; } .total{ float: right; width: 19%; } .footer{ } </style> </head> <body> <div class='container'> <div class='head'> <div class='title'>SKS</div> <br> <div><span>MASA NO</span>:&nbsp;&nbsp;\"+this.tableName+\"</div>\");\r\n    newWin.document.write(\"</div> <div><span>TARİH</span>:&nbsp;&nbsp;\"+this.faturaTarih+\"</div><div><span>FİŞ NO</span>:&nbsp;&nbsp;\"+this.receiptId+\"</div> </div> <hr class='dashed'> <div class='body'> <table> <tr> <th style='width: 40%;'>ÜRÜN ADI</th> <th style='width: 0px;'></th><th style='width: 0px;'></th> <th>FİYAT</th> <th>ADET</th> <th>TUTAR</th> </tr>\")\r\n    this.selectedProd.forEach(x=>{\r\n      this.totalPrice += x.totalPrice;\r\n      newWin.document.write(\"<tr>\");\r\n      newWin.document.write(\"<td colspan='3'>\"+x.data.name+\"</td>\");\r\n      newWin.document.write(\"<td>\"+x.data.kdvPrice.toFixed(2)+\"&nbsp;₺</td>\");\r\n      newWin.document.write(\"<td>\"+x.count+\"</td>\");\r\n      newWin.document.write(\"<td>\"+x.totalPrice.toFixed(2)+\"&nbsp;₺</td>\");\r\n      newWin.document.write(\"</tr>\");\r\n      x.date = this.faturaTarih;\r\n      var sellStock = parseFloat(x.data.restaurant1Stock) - parseFloat(x.count);\r\n      this.db.database.ref(\"/products/\"+x.key).update({restaurant1Stock:sellStock});\r\n      this.products.forEach(element=>{\r\n        if(x.key == element.key){\r\n          var cafeStock = x.count;\r\n          this.stockDetail = element.payload.val().stockDetail;\r\n          if(element.payload.val().stockDetail != undefined){\r\n            for (let index = 0; index < this.stockDetail.length; index++) {\r\n              this.stockDetail[index].stock -= cafeStock;\r\n              if(this.stockDetail[index].stock > 0){\r\n                break;\r\n              }\r\n              else if(this.stockDetail[index].stock == 0){\r\n                break;\r\n              }\r\n              else{\r\n                cafeStock = -1 * this.stockDetail[index].stock;  \r\n              }\r\n            }  \r\n          }\r\n          var iter = 0;\r\n          this.stockDetail.forEach(i=>{\r\n            if(i.stock <= 0){\r\n              this.stockDetail.splice(iter, 1);\r\n            }\r\n            iter++;\r\n          })\r\n          if(this.stockDetail.length > 0){\r\n            var average = 0;\r\n            var amount = 0;\r\n            this.stockDetail.forEach(element => {\r\n              average += element.cost * element.stock;\r\n              amount += element.stock;\r\n            });\r\n            average = average / amount;\r\n            this.db.database.ref(\"/products/\"+x.key).update({cost: average, stockDetail:this.stockDetail});\r\n          }\r\n          else if(this.stockDetail.length == 1){\r\n            this.db.database.ref(\"/products/\"+x.key).update({cost: this.stockDetail[0].cost, stockDetail:this.stockDetail});\r\n          }\r\n          else{\r\n            this.db.database.ref(\"/products/\"+x.key).update({cost: 0, stockDetail:this.stockDetail});\r\n          }\r\n        }\r\n      })\r\n      this.db.list(\"/statistics/sold\").push({process:\"Restoran 1 satış\", name: x.data.name, group: x.data.group, kdvPrice: x.data.kdvPrice, cost: x.data.cost, count: x.count, date: x.date});\r\n    })\r\n    newWin.document.write(\"</table> <hr class='dashed'> <div class='bodyFooter'> <span class='totalText'>TOPLAM TUTAR</span>\");\r\n    newWin.document.write(\"<span class='total'>\"+this.totalPrice.toFixed(2)+\"&nbsp;₺</span>\");\r\n    newWin.document.write(\"</div> </div> <hr class='dashed'> <div class='footer'> </div> </div> </body></html>\");\r\n    newWin.print();  \r\n    newWin.close();\r\n    this.totalPrice = 0;  \r\n    this.db.database.ref(\"/restaurant1/table/\"+key+\"/product\").remove();\r\n    this.db.list(\"/receipt\").set('id', this.receiptId);\r\n  }\r\n}\r\n","import { NgModule } from '@angular/core';\r\nimport { Routes, RouterModule } from '@angular/router';\r\n\r\nimport { SalesComponent } from './sales.component';\r\n\r\nconst routes: Routes = [\r\n  {\r\n    path: '',\r\n    component: SalesComponent,\r\n    data: {\r\n      title: 'sales'\r\n    }\r\n  }\r\n];\r\n\r\n@NgModule({\r\n  imports: [RouterModule.forChild(routes)],\r\n  exports: [RouterModule]\r\n})\r\nexport class salesRoutingModule {}\r\n","import { NgModule } from '@angular/core';\r\nimport { FormsModule } from '@angular/forms';\r\nimport { ChartsModule } from 'ng2-charts';\r\nimport { BsDropdownModule } from 'ngx-bootstrap/dropdown';\r\nimport { ButtonsModule } from 'ngx-bootstrap/buttons';\r\nimport { TabsModule } from 'ngx-bootstrap/tabs';\r\nimport { ModalModule } from 'ngx-bootstrap/modal';\r\n\r\nimport { SalesComponent } from './sales.component';\r\nimport { salesRoutingModule } from './sales-routing.module';\r\nimport { CommonModule } from '@angular/common';\r\nimport { searchPipe2 } from './pipe';\r\n\r\n@NgModule({\r\n  imports: [\r\n    FormsModule,\r\n    salesRoutingModule,\r\n    ChartsModule,\r\n    BsDropdownModule,\r\n    TabsModule,\r\n    ModalModule,\r\n    ButtonsModule.forRoot(),\r\n    CommonModule\r\n  ],\r\n  declarations: [ SalesComponent,searchPipe2 ]\r\n})\r\nexport class SalesModule {\r\n\r\n  sell(){\r\n    window.print();\r\n  }\r\n  cancel(){\r\n    \r\n  }\r\n}\r\n","import { Pipe, PipeTransform } from '@angular/core';\r\n\r\n@Pipe({\r\n    name: 'filter'\r\n})\r\n\r\nexport class searchPipe2 implements PipeTransform {\r\n    transform(value: any, args?: any): any {\r\n\r\n        if(!value)return null;\r\n        if(!args)return value;\r\n\r\n        args = args.toLowerCase();\r\n\r\n        return value.filter(function(item){\r\n            return JSON.stringify(item).toLowerCase().includes(args);\r\n        });\r\n    }\r\n}","export default \"<div class=\\\"animated fadeIn\\\">\\r\\n  <div class=\\\"row\\\">\\r\\n    <div class=\\\"col-12\\\">\\r\\n      <div class=\\\"card\\\">\\r\\n        <div class=\\\"card-header\\\">\\r\\n          Masaları düzenle\\r\\n        </div>\\r\\n        <div class=\\\"card-body\\\">\\r\\n          <button class=\\\"btn btn-primary\\\" type=\\\"submit\\\" (click)=\\\"tableEdit(1)\\\">Masa ekle</button>\\r\\n          <button class=\\\"btn btn-primary\\\" type=\\\"submit\\\" (click)=\\\"tableEdit(0)\\\">Masa çıkar</button>\\r\\n\\r\\n        </div>\\r\\n      </div>\\r\\n    </div>\\r\\n    <div class=\\\"col-12\\\">\\r\\n      <div class=\\\"card\\\">\\r\\n        <div class=\\\"card-header\\\">\\r\\n          Masalar\\r\\n        </div>\\r\\n        <div class=\\\"card-body row\\\">\\r\\n          <div class=\\\"col-md-4\\\" *ngFor=\\\"let item of table\\\">\\r\\n            <div class=\\\"card\\\">\\r\\n              <div class=\\\"card-header\\\">\\r\\n                <div class=\\\"row\\\">\\r\\n                  <div class=\\\"col-9\\\">Masa {{ item.payload.val().name }}</div>\\r\\n                  <div class=\\\"col-3\\\">\\r\\n                      <span style=\\\"float:right;height: 25px;\\r\\n                      width: 25px;\\r\\n                      border-radius: 50%;\\r\\n                      \\\" [ngStyle]=\\\"{'background-color': (item.payload.val().product != undefined) ? '#dc3545' : '#28a745'}\\\"></span>\\r\\n                  </div>  \\r\\n                </div>\\r\\n              </div>\\r\\n              <div class=\\\"card-body\\\">\\r\\n                <h6 class=\\\"card-title\\\">Ürün listesi</h6>\\r\\n                <table class=\\\"table\\\">\\r\\n                  <thead>\\r\\n                    <tr>\\r\\n                      <th scope=\\\"col\\\">Ürün</th>\\r\\n                      <th scope=\\\"col\\\">Adet</th>\\r\\n                      <th scope=\\\"col\\\">Tutar</th>\\r\\n                    </tr>\\r\\n                  </thead>\\r\\n                  <tbody>\\r\\n                    <tr *ngFor=\\\"let prod of item.payload.val().product\\\">\\r\\n                      <td>{{ prod.data.name }}</td>\\r\\n                      <td>{{ prod.count }}</td>\\r\\n                      <td>{{ prod.totalPrice | number : '.2-2' }}</td>\\r\\n                    </tr>\\r\\n                    <tr>\\r\\n                      <td colspan=\\\"2\\\">Toplam tutar</td>\\r\\n                      <td>{{ getSum(item.payload.val().product) | number : '.2-2' }}</td>\\r\\n                    </tr>\\r\\n                  </tbody>\\r\\n                </table>\\r\\n              </div>\\r\\n              <div class=\\\"card-footer\\\">\\r\\n                <div class=\\\"row\\\">\\r\\n                  <div class=\\\"col-6\\\">\\r\\n                    <button class=\\\"btn btn-primary float-left btn-block\\\" type=\\\"submit\\\" (click)=\\\"modalOpen(item.payload.key)\\\">Ürün ekle</button>\\r\\n                  </div>\\r\\n                  <div class=\\\"col-6\\\">\\r\\n                    <button class=\\\"btn btn-primary float-right btn-block\\\" type=\\\"submit\\\" [disabled]=\\\"item.payload.val().product == undefined\\\" (click)=\\\"sell(item.payload.key)\\\">Satış</button>\\r\\n                  </div>\\r\\n                </div>\\r\\n              </div>\\r\\n            </div>\\r\\n          </div>\\r\\n        </div>\\r\\n      </div>\\r\\n    </div>\\r\\n  </div>\\r\\n</div>\\r\\n<div bsModal #largeModal=\\\"bs-modal\\\" class=\\\"modal fade\\\" tabindex=\\\"-1\\\" role=\\\"dialog\\\" aria-labelledby=\\\"myModalLabel\\\" aria-hidden=\\\"true\\\">\\r\\n  <div class=\\\"modal-dialog modal-lg\\\" role=\\\"document\\\">\\r\\n    <div class=\\\"modal-content\\\">\\r\\n      <div class=\\\"modal-header\\\">\\r\\n        <h4 class=\\\"modal-title\\\">Masa ürün ekleme</h4>\\r\\n        <button type=\\\"button\\\" class=\\\"close\\\" (click)=\\\"largeModal.hide()\\\" aria-label=\\\"Close\\\">\\r\\n          <span aria-hidden=\\\"true\\\">&times;</span>\\r\\n        </button>\\r\\n      </div>\\r\\n      <div class=\\\"modal-body\\\">\\r\\n        <div class=\\\"card\\\">\\r\\n          <div class=\\\"card-header\\\">\\r\\n            <div class=\\\"input-group\\\">\\r\\n              <span class=\\\"input-group-prepend\\\">\\r\\n                <button type=\\\"button\\\" class=\\\"btn btn-primary\\\"><i class=\\\"fa fa-search\\\"></i> Ara</button>\\r\\n              </span>\\r\\n              <input type=\\\"text\\\" id=\\\"input1-group2\\\" name=\\\"search\\\" class=\\\"form-control\\\" placeholder=\\\"Ürün\\\" [(ngModel)]=\\\"search\\\">  \\r\\n            </div>\\r\\n          </div>\\r\\n          <div class=\\\"card-body\\\">\\r\\n            <div class=\\\"row\\\">\\r\\n              <ng-container *ngFor=\\\"let item of products | filter:search\\\">\\r\\n                <div class=\\\"col-4\\\" style=\\\"cursor: pointer;\\\" (click)=\\\"selectProduct(item.payload.key)\\\" *ngIf=\\\"item.payload.val().restaurant1Stock > 0\\\">\\r\\n                  <div>{{item.payload.val().name}}({{item.payload.val().restaurant1Stock | number : '.2-2' }})</div>\\r\\n                </div>\\r\\n              </ng-container>\\r\\n            </div>\\r\\n          </div>\\r\\n          <div class=\\\"card-footer\\\">\\r\\n            <table class=\\\"table table-bordered table-striped table-sm\\\" *ngIf=\\\"selectedProd != undefined \\\">\\r\\n              <thead>\\r\\n                <tr>\\r\\n                  <th></th>\\r\\n                  <th>Ürün adı</th>\\r\\n                  <th>Adet</th>\\r\\n                  <th>Fiyat</th>\\r\\n                </tr>\\r\\n              </thead>\\r\\n              <tbody>\\r\\n                <tr *ngFor=\\\"let item of selectedProd, let i = index\\\">\\r\\n                  <td (click)=\\\"countDecrease(i)\\\" style=\\\"display: table-cell;vertical-align: middle;cursor: pointer;text-align: center;\\\"><i class=\\\"cil-minus\\\" style=\\\"color:red\\\"></i></td>\\r\\n                  <td>{{item.data.name}}</td>\\r\\n                  <td>{{item.count}}</td>\\r\\n                  <td>{{item.totalPrice | number : '.2-2' }}</td>\\r\\n                </tr>\\r\\n              </tbody>\\r\\n            </table>      \\r\\n          </div>\\r\\n        </div>\\r\\n      </div>\\r\\n      <div class=\\\"modal-footer\\\">\\r\\n        <button type=\\\"button\\\" class=\\\"btn btn-secondary\\\" (click)=\\\"largeModal.hide()\\\">Vazgeç</button>\\r\\n        <button type=\\\"button\\\" class=\\\"btn btn-primary\\\" (click)=\\\"addProduct()\\\">Değişiklikleri kaydet</button>\\r\\n      </div>\\r\\n    </div><!-- /.modal-content -->\\r\\n  </div><!-- /.modal-dialog -->\\r\\n</div><!-- /.modal -->\\r\\n\";"],"sourceRoot":"webpack:///"}