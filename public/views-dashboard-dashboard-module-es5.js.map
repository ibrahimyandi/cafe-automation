{"version":3,"sources":["webpack:///src/app/views/dashboard/Dashboard.component.html","webpack:///src/app/views/dashboard/dashboard.module.ts","webpack:///src/app/views/dashboard/pipe.ts","webpack:///src/app/views/dashboard/dashboard-routing.module.ts","webpack:///src/app/views/dashboard/dashboard.component.ts"],"names":["DashboardModule","imports","forRoot","declarations","searchPipe","value","args","toLowerCase","filter","item","JSON","stringify","includes","name","routes","path","component","data","title","DashboardRoutingModule","forChild","exports","DashboardComponent","db","excel","statistics","totalIncome","totalCost","stock","list","valueChanges","subscribe","i","reverse","forEach","element","kdvPrice","kdvCost","count","process","val","toLocaleLowerCase","tableName","exportAsExcelFile","console","log","dataName","remove","template"],"mappings":"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","file":"views-dashboard-dashboard-module-es5.js","sourcesContent":["export default \"<div class=\\\"animated fadeIn\\\">\\n  <div class=\\\"row\\\">\\n    <div class=\\\"col-lg-12\\\">\\n      <div class=\\\"card\\\">\\n        <div class=\\\"card-header\\\">\\n          <i class=\\\"fa fa-align-justify\\\"></i> Satılan Ürünler\\n        </div>\\n        <div class=\\\"card-body\\\">\\n          <div class=\\\"row\\\">\\n            <div class=\\\"col-4\\\">\\n              <div class=\\\"input-group\\\">\\n                <span class=\\\"input-group-prepend\\\">\\n                  <button type=\\\"button\\\" class=\\\"btn btn-primary\\\"><i class=\\\"fa fa-search\\\"></i> Ara</button>\\n                </span>\\n                <input type=\\\"text\\\" id=\\\"input1-group2\\\" name=\\\"sellProdSearch\\\" class=\\\"form-control\\\" placeholder=\\\"Ürün\\\" [(ngModel)]=\\\"sellProdSearch\\\">\\n              </div>\\n                </div>\\n            <div class=\\\"col-12 mt-4\\\">\\n              <table class=\\\"table table-bordered table-striped table-sm\\\" id=\\\"sellProd\\\">\\n                <thead>\\n                  <tr>\\n                    <th>Ürün adı</th>\\n                    <th>Grup</th>\\n                    <th>Fiyat</th>\\n                    <th>Maliyet</th>\\n                    <th>Adet</th>\\n                    <th>Kâr</th>\\n                    <th>Tarih</th>\\n                  </tr>\\n                </thead>\\n                <tbody>\\n                  <tr *ngFor=\\\"let item of statistics | filter:sellProdSearch\\\">\\n                    <td>{{ item.name }}</td>\\n                    <td>{{ item.group }}</td>\\n                    <td>{{ item.kdvPrice | number : '.2-2' }}₺</td>\\n                    <td>{{ item.kdvCost | number : '.2-2' }}₺</td>\\n                    <td>{{ item.count }}</td>\\n                    <td>{{ (item.kdvPrice - item.kdvCost) * item.count | number : '.2-2' }}₺</td>\\n                    <td>{{ item.date }}</td>\\n                  </tr>\\n                </tbody>\\n              </table>\\n            </div>\\n          </div>\\n        </div>\\n        <div class=\\\"card-footer\\\">\\n          <div class=\\\"row\\\">\\n            <div class=\\\"col-6\\\">Toplam Kâr: {{ totalIncome | number : '.2-2' }}₺</div>\\n            <div class=\\\"col-6 float-right\\\"><button (click)=\\\"clearAndExport('statistics')\\\" type=\\\"button\\\" class=\\\"btn btn-success btn-square float-right\\\">Temizle ve excele aktar</button></div>\\n          </div>\\n      </div>\\n    </div>\\n  </div>\\n  <div class=\\\"col-lg-12\\\">\\n    <div class=\\\"card\\\">\\n      <div class=\\\"card-header\\\">\\n        <i class=\\\"fa fa-align-justify\\\"></i> Eklenen Stoklar\\n      </div>\\n      <div class=\\\"card-body\\\">\\n        <div class=\\\"row\\\">\\n          <div class=\\\"col-4\\\">\\n            <div class=\\\"input-group\\\">\\n              <span class=\\\"input-group-prepend\\\">\\n                <button type=\\\"button\\\" class=\\\"btn btn-primary\\\"><i class=\\\"fa fa-search\\\"></i> Ara</button>\\n              </span>\\n              <input type=\\\"text\\\" id=\\\"input1-group2\\\"  [(ngModel)]=\\\"search\\\" name=\\\"search\\\" class=\\\"form-control\\\" placeholder=\\\"Ürün\\\">\\n            </div>\\n              </div>\\n          <div class=\\\"col-12 mt-4\\\">\\n            <table class=\\\"table table-bordered table-striped table-sm\\\" id=\\\"stockProd\\\">\\n              <thead>\\n                <tr>\\n                  <th>İşlem</th>\\n                  <th>Ürün adı</th>\\n                  <th>Grup</th>\\n                  <th>Maliyet</th>\\n                  <th>Adet</th>\\n                  <th>Toplam tutar</th>\\n                  <th>Tarih</th>\\n                </tr>\\n              </thead>\\n              <tbody>\\n                <tr *ngFor=\\\"let item of stock | filter:search\\\">\\n                  <td>{{ item.process }}</td>\\n                  <td>{{ item.name }}</td>\\n                  <td>{{ item.group }}</td>\\n                  <td>{{ item.kdvCost | number : '.2-2' }}₺</td>\\n                  <td>{{ item.stock }}</td>\\n                  <td>{{ item.kdvCost * item.stock | number : '.2-2' }}₺</td>\\n                  <td>{{ item.date }}</td>\\n                </tr>\\n              </tbody>\\n            </table>\\n          </div>\\n        </div>\\n      </div>\\n      <div class=\\\"card-footer\\\">\\n        <div class=\\\"row\\\">\\n          <div class=\\\"col-6\\\">Stok eklenen ürün maliyeti toplamı: {{ totalCost | number : '.2-2' }}₺</div>\\n          <div class=\\\"col-6\\\"><button (click)=\\\"clearAndExport('stock')\\\" type=\\\"button\\\" class=\\\"btn btn-success btn-square float-right\\\">Temizle ve excele aktar</button></div>\\n        </div>\\n      </div>\\n    </div>\\n    <div class=\\\"card\\\">\\n      <div class=\\\"cord-body\\\">\\n        <div class=\\\"alert alert-secondary\\\" style=\\\"margin-bottom: 0px;\\\" role=\\\"alert\\\">\\n          <div>Genel durum : <span [ngStyle]=\\\"{'color': totalIncome - totalCost > 0? 'green' : 'red'}\\\">{{ totalIncome - totalCost | number : '.2-2' }}₺</span></div>\\n        </div>\\n      </div>\\n    </div>\\n  </div>\\n</div>\\n\";","import { NgModule } from '@angular/core';\nimport { FormsModule } from '@angular/forms';\nimport { ChartsModule } from 'ng2-charts';\nimport { BsDropdownModule } from 'ngx-bootstrap/dropdown';\nimport { ButtonsModule } from 'ngx-bootstrap/buttons';\nimport { CommonModule } from \"@angular/common\";\nimport { DashboardComponent } from './dashboard.component';\nimport { DashboardRoutingModule } from './dashboard-routing.module';\nimport { searchPipe } from './pipe';\n\n@NgModule({\n  imports: [\n    FormsModule,\n    DashboardRoutingModule,\n    ChartsModule,\n    BsDropdownModule,\n    ButtonsModule.forRoot(),\n    CommonModule,\n\n  ],\n  declarations: [ \n    DashboardComponent,\n    searchPipe,\n  ]\n})\nexport class DashboardModule { }\n","import { Pipe, PipeTransform } from '@angular/core';\r\n\r\n@Pipe({\r\n    name: 'filter'\r\n})\r\n\r\nexport class searchPipe implements PipeTransform {\r\n    transform(value: any, args?: any): any {\r\n\r\n        if(!value)return null;\r\n        if(!args)return value;\r\n\r\n        args = args.toLowerCase();\r\n\r\n        return value.filter(function(item){\r\n            return JSON.stringify(item).toLowerCase().includes(args);\r\n        });\r\n    }\r\n}","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { DashboardComponent } from './dashboard.component';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: DashboardComponent,\n    data: {\n      title: 'Dashboard'\n    }\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule]\n})\nexport class DashboardRoutingModule {}\n","import { Component, OnInit } from '@angular/core';\nimport { AngularFireDatabase } from '@angular/fire/database';\nimport { ExcelService } from '../../shared/services/excel.services';\n\n@Component({\n  templateUrl: 'Dashboard.component.html'\n})\nexport class DashboardComponent implements OnInit {\n  statistics = [];\n  totalIncome = 0;\n  totalCost = 0;\n  stock = [];\n  sellProdSearch;\n  search;\n  filter(value){\n    return value.filter((val) => {\n      return val.toLocaleLowerCase().includes(value);\n    })\n  }\n\n  constructor(private db:AngularFireDatabase,private excel:ExcelService){\n     db.list('/statistics').valueChanges().subscribe(i => {\n      this.statistics = i.reverse();\n      this.statistics.forEach(element => {\n        this.totalIncome += (element.kdvPrice - element.kdvCost) * element.count;\n      });\n    });\n    db.list('/stock').valueChanges().subscribe(i => {\n      this.stock = i.reverse();\n      this.stock.forEach(element => {\n        if(element.process == \"ekleme\")\n          this.totalCost += element.kdvCost * element.stock;\n        else\n          this.totalCost -= element.kdvCost * element.stock;\n      });\n    });\n  }\n  print(tableName):void{\n    if(tableName=\"statistics\"){\n      this.excel.exportAsExcelFile(this.statistics,\"istatistik\");\n      console.log(\"istatistik yazdır\");\n    }\n    else{\n      this.excel.exportAsExcelFile(this.stock,\"stock\");\n      console.log(\"stok yazdır\");\n    }\n  }\n  clearAndExport(dataName){\n    if(dataName == \"statistics\"){\n      this.excel.exportAsExcelFile(this.statistics,\"statistics\");\n      this.db.list(\"statistics\").remove();\n      this.totalIncome = 0;\n    }\n    else{\n      this.excel.exportAsExcelFile(this.stock,\"stock\");    \n      this.db.list(\"stock\").remove();\n      this.totalCost = 0;\n    }\n  }\n  ngOnInit(){}\n}\n"]}